# 営業管理システム 動作テスト手順

## 前提条件
- Firebase プロジェクトが作成済み
- .env.local に正しい Firebase 設定値が入力済み
- 開発サーバーが起動中（npm run dev）

## 1. ログイン機能のテスト

### 準備
1. Firebase Console → Authentication → Users
2. テストユーザーを作成
   - メール: admin@example.com
   - パスワード: password123

### テスト手順
1. http://localhost:5173 にアクセス
2. ログインページが表示されることを確認
3. 作成したテストユーザーでログイン
4. ダッシュボードにリダイレクトされることを確認

## 2. 基本機能のテスト

### 2-1. 担当者マスタ
1. サイドメニューから「担当者マスタ」をクリック
2. 「新規追加」ボタンをクリック
3. 担当者情報を入力
   - 名前: 田中太郎
   - メール: tanaka@example.com
   - 部署: 営業部
4. 「追加」ボタンをクリック
5. リストに追加されることを確認

### 2-2. 提案メニューマスタ
1. 「提案メニューマスタ」をクリック
2. 「新規追加」ボタンをクリック
3. メニュー情報を入力
   - 名前: Webサイト制作
   - 価格: 500000
   - 説明: レスポンシブ対応のWebサイト制作
4. 「追加」ボタンをクリック
5. リストに追加されることを確認

### 2-3. 案件管理
1. 「案件管理」をクリック
2. 「案件追加」ボタンをクリック
3. 案件情報を入力
   - 案件名: A社Webサイトリニューアル
   - 顧客名: A株式会社
   - 担当者: 田中太郎（選択）
   - ステータス: 提案中
4. 「追加」ボタンをクリック
5. 案件リストに追加されることを確認

### 2-4. アクションログ記録
1. 「アクションログ記録」をクリック
2. ログ情報を入力
   - 顧客名: A株式会社（既存選択 or 新規作成）
   - 案件名: A社Webサイトリニューアル（既存選択 or 新規作成）
   - アクション: 初回打ち合わせ実施
   - 詳細: 要件定義について打ち合わせ
3. 「記録」ボタンをクリック
4. 「アクションログ一覧」で記録が確認できることをテスト

### 2-5. 受注管理
1. 「受注管理」をクリック
2. 「新規受注」ボタンをクリック
3. 受注情報を入力
   - 案件名: A社Webサイトリニューアル
   - 受注金額: 500000
   - 実装月: 2024年4月
4. 「追加」ボタンをクリック
5. 受注リストに追加されることを確認

### 2-6. 実績入力（CSVインポート）
1. 「実績入力」をクリック
2. サンプルCSVをダウンロード
3. Excel等でサンプルデータを作成
4. CSVファイルをアップロード
5. インポート結果を確認

## 3. ダッシュボード確認

### 3-1. KPI表示
1. 「ダッシュボード」をクリック
2. 以下の数値が正しく表示されることを確認
   - 今月の受注件数
   - 今月の受注金額
   - アクション実行回数
   - 進行中案件数

### 3-2. グラフ表示
1. 月別受注金額グラフが表示されることを確認
2. 案件ステータス別の円グラフが表示されることを確認

## 4. Firestore データ確認

Firebase Console → Firestore Database で以下のコレクションにデータが保存されていることを確認：

- users（担当者）
- clients（顧客）
- projects（案件）
- actionLogs（アクションログ）
- orders（受注）
- performances（実績）
- proposalMenus（提案メニュー）

## エラー対処

### よくあるエラー
1. **ログインできない**
   - Firebase Authentication が有効化されているか確認
   - テストユーザーが作成されているか確認

2. **データが保存されない**
   - Firestore Database が作成されているか確認
   - セキュリティルールが適切に設定されているか確認

3. **画面が表示されない**
   - .env.local の設定値が正しいか確認
   - 開発サーバーが起動しているか確認

### セキュリティルール（Firestore）
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // 認証されたユーザーのみアクセス可能
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```